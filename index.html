<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="顧客服務工作的好助手。免費分享常用電話號碼,有用資訊,內容持續更新。" />
    <meta name="keywords" content="顧客服務,常用電話號碼,實用資訊,旅遊資訊,失物認領,交通資訊,航空公司,機場" />
    <meta name="robots" content="index, follow" />
    <title>Concierge Anywhere</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+HK:wght@400;500;700&family=Archivo+Black&display=swap" rel="stylesheet" defer />
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" defer />
        <link rel="stylesheet" href="https://concierge-anywhere.com/project_css.css" defer />
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
 
</head>
<body>
    <header>
        <div class="header-inner">
            <div class="site-brand">
                <a href="https://concierge-anywhere.com"><img src="https://concierge-anywhere.com/assets/Concierge_Anywhere_logo.png" alt="Concierge Anywhere Logo"></a>
            </div>
            <div class="header-actions">
                <a href="https://concierge-anywhere.com/control_center/user_login" class="header-button">
                    <i class="bi bi-person-fill"></i>
                    <span>登入</span>
                </a>
                <button id="menuButton" class="header-button">
                    <i class="bi bi-list"></i>
                    <span>選單</span>
                </button>
            </div>
        </div>
    </header>

    <main>
        <h1 class="title typing-text">Concierge Anywhere</h1>
        <div class="timer-container">
            <div id="date" class="date"></div>
            <div id="time" class="time"></div>
        </div>
        
        <div class="search-container">
            <div class="search-input-container">
                <input type="text" id="searchInput" class="search-input" placeholder="您需要什麼資訊?">
                <button id="clearInput" class="clear-icon" aria-label="清除"><i class="bi bi-x-circle-fill"></i></button>
            </div>
            <div class="search-button-container">
                <button id="searchButton" class="search-button"><i class="bi bi-search"></i> <span class="button-text">搜尋</span></button>
            </div>
        </div>
        
        <div class="button-container">
            <a href="tel:999" class="action-button"><i class="bi bi-telephone-fill"></i> 緊急電話</a>
            <button id="lostAndFound" class="action-button"><i class="bi bi-bag-check-fill"></i> 失物認領</button>
            <a href="https://www.hko.gov.hk/tc/current/current_c.htm" class="action-button" target="_blank"><i class="bi bi-cloudy-fill"></i> 天氣資訊</a>
        </div>
        
        <div class="turnstile-container" id="turnstile-container">
            <div class="cf-turnstile" data-sitekey="0x4AAAAAAAP26R54bFjN92vE" data-callback="onTurnstileSuccess"></div>
        </div>
        
        <div class="tab-container">
            <div class="tab-header">
                <button class="tab-button active" data-tab="airlines-tab"><i class="bi bi-airplane-fill"></i> 航空公司</button>
                <button class="tab-button" data-tab="train-tab"><i class="bi bi-train-front-fill"></i> 鐵路資訊</button>
                <button class="tab-button" data-tab="info-tab"><i class="bi bi-info-circle-fill"></i> 實用資訊</button>
            </div>
            
            <div id="airlines-tab" class="tab-content active">
                </div>
            
            <div id="train-tab" class="tab-content">
                </div>
            
            <div id="info-tab" class="tab-content">
                </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="primary_content_block">
                <div class="primary_content_block_row_01">
                    <div class="primary_content_block_row_01_div">
                        <div class="primary_content_block_content"><a href="https://www.facebook.com/conciergeanywhere" target="_blank" class="footer-link"><i class="bi bi-facebook"></i><br>Facebook</a></div>
                    </div>
                    <div class="primary_content_block_row_01_div">
                        <div class="primary_content_block_content"><a href="#" id="toolsButton" class="footer-link"><i class="bi bi-gear-fill"></i><br>工具</a></div>
                        <div id="toolsDropdown" class="tools-dropdown">
                            <a href="https://concierge-anywhere.com/control_center/user_login" class="tools-dropdown-item">
                                <i class="bi bi-person-fill"></i> 登入
                            </a>
                            <a href="https://concierge-anywhere.com/control_center/private_room" class="tools-dropdown-item">
                                <i class="bi bi-lock-fill"></i> 私人空間
                            </a>
                        </div>
                    </div>
                    <div class="primary_content_block_row_01_div">
                        <div class="primary_content_block_content"><a href="#" class="footer-link"><i class="bi bi-info-circle-fill"></i><br>關於我們</a></div>
                    </div>
                </div>
            </div>
            <p>Copyright © 2024 Concierge Anywhere. All rights reserved.</p>
        </div>
    </footer>

    <div id="errorModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle"></h3>
            <p id="modalMessage"></p>
            <button id="modalClose" class="modal-close">關閉</button>
        </div>
    </div>
    
    <div id="dropdownMenu" class="dropdown-menu">
        <div class="dropdown-title">
            <span>選單</span>
            <button id="dropdownClose" class="dropdown-close">&times;</button>
        </div>
        <a href="https://concierge-anywhere.com" class="dropdown-item"><i class="bi bi-house-door-fill"></i> 首頁</a>
        <a href="https://concierge-anywhere.com/control_center/user_login" class="dropdown-item"><i class="bi bi-person-fill"></i> 登入</a>
        <a href="https://concierge-anywhere.com/control_center/private_room" class="dropdown-item"><i class="bi bi-lock-fill"></i> 私人空間</a>
        <div class="dropdown-divider"></div>
        <a href="#" class="dropdown-item" data-action="lostAndFound"><i class="bi bi-bag-check-fill"></i> 失物認領</a>
        <a href="https://www.hko.gov.hk/tc/current/current_c.htm" target="_blank" class="dropdown-item"><i class="bi bi-cloudy-fill"></i> 天氣資訊</a>
        <a href="tel:999" class="dropdown-item"><i class="bi bi-telephone-fill"></i> 緊急電話</a>
    </div>

    <script type="module">
    (() => {
        const elements = {
            date: document.getElementById('date'),
            time: document.getElementById('time'),
            menuButton: document.getElementById('menuButton'),
            dropdownMenu: document.getElementById('dropdownMenu'),
            dropdownClose: document.getElementById('dropdownClose'),
            toolsButton: document.getElementById('toolsButton'),
            toolsDropdown: document.getElementById('toolsDropdown'),
            searchInput: document.getElementById('searchInput'),
            searchButton: document.getElementById('searchButton'),
            clearInput: document.getElementById('clearInput'),
            lostAndFoundButton: document.getElementById('lostAndFound'),
            actionButtons: document.querySelectorAll('.action-button[data-action]'),
            tabButtons: document.querySelectorAll('.tab-button'),
            tabContents: document.querySelectorAll('.tab-content'),
            errorModal: document.getElementById('errorModal'),
            modalTitle: document.getElementById('modalTitle'),
            modalMessage: document.getElementById('modalMessage'),
            modalClose: document.getElementById('modalClose'),
            typingText: document.querySelector('.typing-text'),
            turnstileContainer: document.getElementById('turnstile-container')
        };
        
        let state = {
            activeTab: 'airlines-tab'
        };

        function updateTime() {
            const now = new Date();
            const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
            elements.date.textContent = now.toLocaleDateString('zh-HK', dateOptions);
            elements.time.textContent = now.toLocaleTimeString('zh-HK', timeOptions);
        }

        function toggleDropdown() {
            elements.dropdownMenu.classList.toggle('show');
        }
        
        function toggleToolsDropdown(event) {
            event.stopPropagation();
            elements.toolsDropdown.classList.toggle('show');
        }

        function closeAllDropdowns(event) {
            if (!elements.toolsDropdown.contains(event.target) && !elements.toolsButton.contains(event.target)) {
                elements.toolsDropdown.classList.remove('show');
            }
        }
        
        function handleLinkClick(action) {
            if (action === 'lostAndFound') {
                showErrorModal('失物認領', '請致電或前往相關部門尋求協助。');
            }
        }

        function showTurnstile() {
            if (elements.turnstileContainer) {
                elements.turnstileContainer.style.display = 'flex';
                // 執行 Turnstile 驗證
                // turnstile.render('#turnstile-container', {
                //     sitekey: '0x4AAAAAAAP26R54bFjN92vE',
                //     callback: 'onTurnstileSuccess'
                // });
            }
        }

        // 當 Turnstile 驗證通過時，由 data-callback 觸發此函數
        window.onTurnstileSuccess = function(token) {
            const query = elements.searchInput.value;
            if (query) {
                const searchURL = `https://concierge-anywhere.com/search_result?q=${encodeURIComponent(query)}`;
                window.open(searchURL, '_blank');
                // 驗證成功後可以隱藏 Turnstile
                elements.turnstileContainer.style.display = 'none';
            } else {
                showErrorModal('搜尋功能', '請輸入搜尋內容。');
                elements.turnstileContainer.style.display = 'none';
            }
        };

        function showErrorModal(title, message) {
            elements.modalTitle.textContent = title;
            elements.modalMessage.textContent = message;
            elements.errorModal.style.display = 'flex';
        }

        function closeErrorModal() {
            elements.errorModal.style.display = 'none';
        }

        function initTypingEffect() {
            if (elements.typingText) {
                const text = elements.typingText.textContent;
                elements.typingText.textContent = '';
                elements.typingText.style.width = 'auto';
                setTimeout(() => {
                    elements.typingText.style.width = '0';
                    elements.typingText.style.animation = 'typing 3.5s steps(30, end), blink-caret .75s step-end infinite';
                }, 100);
            }
        }

        function initEvents() {
            elements.menuButton.addEventListener('click', toggleDropdown);
            elements.dropdownClose.addEventListener('click', toggleDropdown);
            elements.toolsButton.addEventListener('click', toggleToolsDropdown);
            document.addEventListener('click', closeAllDropdowns);
            
            elements.searchInput.addEventListener('input', () => {
                elements.clearInput.style.display = elements.searchInput.value ? 'block' : 'none';
            });

            elements.clearInput.addEventListener('click', () => {
                elements.searchInput.value = '';
                elements.clearInput.style.display = 'none';
            });
            
            elements.searchButton.addEventListener('click', () => {
                const query = elements.searchInput.value;
                if (query) {
                    showTurnstile(); // 點擊搜尋後顯示 Turnstile 驗證
                } else {
                    showErrorModal('搜尋功能', '請輸入搜尋內容。');
                }
            });

            elements.lostAndFoundButton.addEventListener('click', () => {
                handleLinkClick('lostAndFound');
            });
            
            elements.actionButtons.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    handleLinkClick(link.dataset.action);
                });
            });

            elements.tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    elements.tabButtons.forEach(btn => {
                        btn.classList.remove('active');
                        btn.setAttribute('aria-selected', 'false');
                    });
                    elements.tabContents.forEach(content => content.classList.remove('active'));
                    button.classList.add('active');
                    button.setAttribute('aria-selected', 'true');
                    document.getElementById(button.dataset.tab).classList.add('active');
                    state.activeTab = button.dataset.tab;
                });
            });

            elements.modalClose.addEventListener('click', closeErrorModal);
            elements.errorModal.addEventListener('click', (e) => {
                if (e.target === elements.errorModal) closeErrorModal();
            });
        }

        // 初始化
        function init() {
            initTypingEffect();
            updateTime();
            initEvents();
            setInterval(updateTime, 1000);
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    })();
    </script>
</body>
</html>